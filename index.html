<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rops do Zamora</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: relative;
    }
    h1 {
      text-align: center;
      margin-top: 40px;
    }
    .tabs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tabs button {
      padding: 10px 20px;
      background-color: #e9ecef;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .tabs button.active {
      background-color: #0d6efd;
      color: white;
    }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    .calc-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      background: #0d6efd;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .resultado, .historico {
      background: #eee;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Rops do Zamora</h1>
    <p style="text-align: center; margin-top: -10px;">
      ðŸŸ¢ <a href="https://wa.me/5511947185134" target="_blank">Me chame no WhatsApp</a><br>
      ðŸŸ£ <a href="https://discord.com/users/349607592605253633" target="_blank">Fale comigo no Discord</a>
    </p>

    <div class="tabs">
      <button id="tab-compra" class="active" onclick="mostrarSecao('compra')">ðŸ’¸ Quero comprar</button>
      <button id="tab-venda" onclick="mostrarSecao('venda')">ðŸ’° Quero vender</button>
    </div>

    <div id="compra" class="section active">
      <div class="calc-group">
        <label for="precoROP">Informe o preÃ§o que deseja usar por 1000 ROPs (R$):</label>
        <input type="number" id="precoROP" value="0.29" step="0.01" onchange="atualizarPrecoCliente()">
      </div>
      <div class="calc-group">
        <label for="ks">Quantos k's ROPs deseja comprar?</label>
        <input type="number" id="ks" placeholder="Ex: 2.5" step="0.1">
        <button onclick="calcularValorPorKs()">Calcular valor</button>
      </div>
      <div class="calc-group">
        <label for="valor">Digite quanto tem em R$:</label>
        <input type="number" id="valor" placeholder="Ex: 100" step="0.01">
        <button onclick="calcularROPs()">Calcular ROPs</button>
      </div>
    </div>

    <div id="venda" class="section">
      <div class="calc-group">
        <label for="precoCompra">Informe o valor que deseja pagar por 1000 ROPs (R$):</label>
        <input type="number" id="precoCompra" value="0.25" step="0.01" onchange="atualizarPrecoCompra()">
      </div>
      <div class="calc-group">
        <label for="rops">Digite quantos ROPs quer vender:</label>
        <input type="number" id="rops" placeholder="Ex: 1500" step="1">
        <button onclick="calcularReais()">Calcular Valor Recebido</button>
      </div>
    </div>

    <div class="resultado" id="resultado"></div>
    <div class="historico" id="historico"><strong>HistÃ³rico:</strong><ul id="log"></ul></div>
  </div>

  <script>
    function mostrarSecao(secao) {
      document.getElementById('compra').classList.remove('active');
      document.getElementById('venda').classList.remove('active');
      document.getElementById('tab-compra').classList.remove('active');
      document.getElementById('tab-venda').classList.remove('active');
      document.getElementById(secao).classList.add('active');
      document.getElementById(`tab-${secao}`).classList.add('active');
    }

    function calcularROPs() {
      const valor = parseFloat(document.getElementById('valor').value);
      if (isNaN(valor) || valor <= 0) {
        document.getElementById('resultado').innerText = 'Por favor, digite um valor vÃ¡lido.';
        return;
      }
      const precoUnitario = (precoClientePorMil / 1000) * taxa;
      const rops = Math.ceil(valor / precoUnitario);
      document.getElementById('resultado').innerHTML = `Com R$ ${valor.toFixed(2)}, vocÃª pode comprar <strong>${rops.toLocaleString('pt-BR')}</strong> ROPs.`;
      const li = document.createElement('li');
      li.textContent = `R$ ${valor.toFixed(2)} â†’ ${rops.toLocaleString('pt-BR')} ROPs`;
      document.getElementById('log').prepend(li);
    }

    function calcularValorPorKs() {
      const ks = parseFloat(document.getElementById('ks').value);
      if (isNaN(ks) || ks <= 0) {
        document.getElementById('resultado').innerText = 'Digite um valor vÃ¡lido de milheiros.';
        return;
      }
      const totalRops = Math.ceil(ks * 1000 * taxa);
      const valor = totalRops * (precoClientePorMil / 1000);
      document.getElementById('resultado').innerHTML = `${ks.toFixed(2)}k ROPs (entrega total: <strong>${totalRops.toLocaleString('pt-BR')}</strong>) custarÃ£o <strong>R$ ${valor.toFixed(2)}</strong>.`;
      const li = document.createElement('li');
      li.textContent = `${ks.toFixed(2)}k ROPs â†’ R$ ${valor.toFixed(2)} (entrega: ${totalRops})`;
      document.getElementById('log').prepend(li);
    }

    function calcularReais() {
      const rops = parseFloat(document.getElementById('rops').value);
      if (isNaN(rops) || rops <= 0) {
        document.getElementById('resultado').innerText = 'Digite uma quantidade vÃ¡lida de ROPs.';
        return;
      }
      const precoUnitario = precoCompraPorMil / 1000;
      const valor = Math.floor((rops * precoUnitario) / taxa * 100) / 100;
      document.getElementById('resultado').innerHTML = `Vendendo ${rops.toLocaleString('pt-BR')} ROPs, vocÃª receberÃ¡ <strong>R$ ${valor.toFixed(2)}</strong>.`;
      const li = document.createElement('li');
      li.textContent = `${rops.toLocaleString('pt-BR')} ROPs â†’ R$ ${valor.toFixed(2)}`;
      document.getElementById('log').prepend(li);
    }

    function atualizarPrecoCliente() {
      const novoPreco = parseFloat(document.getElementById('precoROP').value);
      if (!isNaN(novoPreco) && novoPreco > 0) {
        precoClientePorMil = novoPreco;
      }
    }

    function atualizarPrecoCompra() {
      const novoPreco = parseFloat(document.getElementById('precoCompra').value);
      if (!isNaN(novoPreco) && novoPreco > 0) {
        precoCompraPorMil = novoPreco;
      }
    }

    const taxa = 1.05;
    let precoClientePorMil = parseFloat(document.getElementById('precoROP').value);
    let precoCompraPorMil = parseFloat(document.getElementById('precoCompra').value);
  </script>
</body>
</html>
